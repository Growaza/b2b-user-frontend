(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[159],{4855:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/DriverRequest",function(){return n(1581)}])},6691:function(e,r,n){"use strict";var t=n(5893),o=(n(7294),n(3950)),i=n(7161);function s(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}r.Z=function(e){var r=e.notify,n=e.setNotify,a=function(e,t){"clickaway"!==t&&n(function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){s(e,r,n[r])}))}return e}({},r,{isOpen:!1}))};return(0,t.jsx)(o.Z,{open:r.isOpen,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:a,children:(0,t.jsx)(i.Z,{severity:r.type,variant:"filled",onClose:a,children:r.message})})}},3738:function(e,r,n){"use strict";n.d(r,{i:function(){return l}});var t=n(5893),o=n(7294),i=n(1163);function s(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function a(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){s(e,r,n[r])}))}return e}var l=function(e){return function(r){var n=(0,i.useRouter)();return(0,o.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));if(null==(null===e||void 0===e?void 0:e.token))return console.log(e,"token"),n.push("/login");console.log("")}),[]),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(e,a({},r))})}}},4545:function(e,r){"use strict";var n=/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/,t=/^\d{10}$/,o={validatePostBookingForm:function(e){var r={},n=e.pick_up,o=e.drop,i=e.date_of_jorney,s=e.pickup_time,a=e.prefer_car,l=e.cost_of_jorney,c=e.commission_of_vendor,u=e.customer_name,m=e.customer_mobile_number;e.is_driver_request_form;return n||(r.pick_up="Please enter pickup location"),o||(r.drop="Please enter drop location"),i||(r.date_of_jorney="Please enter date of jorney"),s||(r.pickup_time="Please select pickup time"),a||(r.prefer_car="Please Enter prefer_car"),l||(r.cost_of_jorney="Please Enter cost of jorney"),c||(r.commission_of_vendor="Please Enter commission of vendor"),u||(r.customer_name="Please Enter customer name"),m||(r.customer_mobile_number="Please Enter customer mobile number"),m&&!t.test(m.trim().toString())&&(r.customer_mobile_number="Please Enter valid customer mobile number"),r},validateContactUsForm:function(e){var r={},o=e.name,i=e.email,s=e.phone_number,a=e.msg;return o||(r.name="Please enter name"),i||(r.email="Please enter email"),i&&!n.test(i.trim().toString())&&(r.email="Please enter valid email"),s||(r.phone_number="Please enter phone number"),s&&!t.test(s.trim().toString())&&(r.phone_number="Please Enter valid phone number"),a||(r.msg="Please enter message"),r},validateFeedbackForm:function(e){var r={},o=e.name,i=e.email,s=e.phone_number,a=e.feedback;return o||(r.name="Please enter name"),i||(r.email="Please enter email"),i&&!n.test(i.trim().toString())&&(r.email="Please enter valid email"),s||(r.phone_number="Please enter phone number"),s&&!t.test(s.trim().toString())&&(r.phone_number="Please Enter valid phone number"),a||(r.feedback="Please enter message"),r},validatePostTestimonialsForm:function(e){var r={},n=e.name,t=e.testimonials;return n||(r.name="Please enter name"),t||(r.testimonials="Please enter testimonials"),r},validateMyProfileForm:function(e){var r={},o=e.first_name,i=e.last_name,s=e.email,a=e.password,l=e.phone_number,c=e.razorpay_account_id,u=e.state,m=e.city,f=e.dob;return o||(r.first_name="Please enter first_name"),i||(r.last_name="Please enter last_name"),s||(r.email="Please enter email"),s&&!n.test(s.trim().toString())&&(r.email="Please enter valid email"),a||(r.password="Please select password"),l||(r.phone_number="Please Enter phone_number"),l&&!t.test(l.trim().toString())&&(r.phone_number="Please Enter valid phone number"),c||(r.razorpay_account_id="Please Enter razorpay_account_id"),u||(r.state="Please Enter state"),m||(r.city="Please Enter city"),f||(r.dob="Please Enter date of birth"),r},validateDriverForm:function(e){var r={},o=e.driver_name,i=e.driver_email,s=e.driver_mobile_number,a=e.driver_licence_number,l=e.driver_vehicle_number;return o||(r.driver_name="Please enter driver name"),i||(r.driver_email="Please enter driver email"),i&&!n.test(i.trim().toString())&&(r.driver_email="Please enter valid email"),s||(r.driver_mobile_number="Please enter driver mobile number"),s&&!t.test(s.trim().toString())&&(r.driver_mobile_number="Please Enter valid driver mobile number"),a||(r.driver_licence_number="Please enter driver licence number"),l||(r.driver_vehicle_number="Please enter driver vehicle number"),r}};r.Z=o},1581:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return E}});var t=n(4051),o=n.n(t),i=n(5893),s=n(7294),a=n(811),l=n(6513),c=n(2052),u=n(7650),m=n(7594),f=n(3738),d=n(6691),p=n(463),_=n(9072),v=n(9630),h=n(8316),b=n(2853),x=n(1953),j=n(754),y=n(9837),g=n(1359),P=n(8133),k=n(9008),Z=function(e){var r=e.children,n=(0,P.M)().scrollYProgress;return(0,i.jsx)(c.E.path,{d:"M 0, 20 a 20, 20 0 1,0 40,0 a 20, 20 0 1,0 -40,0",style:{pathLength:n},children:(0,i.jsxs)("div",{className:"bg-stone-800",children:[(0,i.jsxs)(k.default,{children:[(0,i.jsx)("title",{children:"B2B Cabs"}),(0,i.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,i.jsx)("link",{rel:"icon",href:"/main.png"})]}),(0,i.jsxs)("main",{className:"h-full bg-stone-800 scroll-smooth",children:[(0,i.jsx)(m.Z,{}),r]})]})})},O=n(4545);function w(e,r,n,t,o,i,s){try{var a=e[i](s),l=a.value}catch(c){return void n(c)}a.done?r(l):Promise.resolve(l).then(t,o)}function C(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var E=(0,f.i)((function(){var e=(0,s.useState)({pick_up:"",drop:"",date_of_jorney:"",pickup_time:"",prefer_car:"",cost_of_jorney:"",commission_of_vendor:"",customer_name:"",customer_mobile_number:"",is_driver_request_form:!0}),r=e[0],n=e[1],t=(0,s.useState)({}),f=t[0],P=t[1],k=(0,s.useState)({isOpen:!1,message:"",type:""}),E=k[0],S=k[1],N=(0,s.useState)(!1),T=N[0],F=N[1],D=function(){var e,t=(e=o().mark((function e(t){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),i=O.Z.validatePostBookingForm(r),console.log("allError",i),0!==Object.entries(i).length||i.constructor!==Object){e.next=18;break}return F(!0),e.prev=5,e.next=8,p.Z.post("/api/v1/booking/postbooking/",r);case 8:e.sent,S({isOpen:!0,message:"booking posted successfully",type:"success"}),F(!1),n({pick_up:"",drop:"",date_of_jorney:"",pickup_time:"",prefer_car:"",cost_of_jorney:"",commission_of_vendor:"",customer_name:"",customer_mobile_number:""}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),S({isOpen:!0,message:"something went wrong, please try again",type:"success"}),F(!1);case 18:P(i);case 19:case"end":return e.stop()}}),e,null,[[5,14]])})),function(){var r=this,n=arguments;return new Promise((function(t,o){var i=e.apply(r,n);function s(e){w(i,t,o,s,a,"next",e)}function a(e){w(i,t,o,s,a,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}(),W=(0,l._)(),z=(0,u.YD)({root:null,rootMargin:"0px",threshold:.2}),B=z.ref,q=z.inView,M=function(e){var t=e.target,o=t.name,i=t.value;n(function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){C(e,r,n[r])}))}return e}({},r,C({},o,i)))};return(0,s.useEffect)((function(){q&&W.start("show")}),[W,q]),(0,i.jsxs)(Z,{children:[(0,i.jsx)(m.Z,{}),(0,i.jsx)(c.E.section,{ref:B,animate:W,initial:"hidden",id:"postBooking",className:"min-h-screen bg-stone-800",children:(0,i.jsx)(x.Z,{sx:{pt:16,pb:4,display:"flex",justifyContent:"center"},children:(0,i.jsx)(c.E.div,{ref:B,initial:"hidden",variants:(0,a.L7)(.8),animate:W,onChange:function(e){return console.log("Inview:",e)},className:"grid justify-items-center",children:(0,i.jsx)(y.Z,{sx:{width:{md:"70%",sm:"80%",xs:"90%"}},children:(0,i.jsx)(g.Z,{sx:{backgroundColor:"#1261A0"},children:(0,i.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:(0,i.jsxs)(_.ZP,{container:!0,spacing:5,children:[(0,i.jsxs)(_.ZP,{item:!0,xs:12,children:[(0,i.jsx)(v.Z,{variant:"h6",sx:{fontWeight:600,color:"#fff"},children:"Driver Request"}),(0,i.jsx)(v.Z,{variant:"subtitle",component:"p",sx:{color:"#fff"},children:"Enter you details for post booking"})]}),(0,i.jsxs)(_.ZP,{item:!0,xs:12,sm:6,children:[(0,i.jsx)(h.Z,{sx:{color:"#fff"},children:"From"}),(0,i.jsx)(b.Z,{sx:{borderRadius:"6px",color:"#fff"},type:"text",name:"pick_up",id:"pick_up",autoComplete:"given-pickup",value:null===r||void 0===r?void 0:r.pick_up,onChange:function(e){return M(e)},fullWidth:!0,error:!(!f||!f.pick_up),helperText:f&&f.pick_up})]}),(0,i.jsxs)(_.ZP,{item:!0,xs:12,sm:6,children:[(0,i.jsx)(h.Z,{sx:{color:"#fff"},children:"To"}),(0,i.jsx)(b.Z,{type:"text",name:"drop",id:"drop",autoComplete:"given-drop",value:null===r||void 0===r?void 0:r.drop,onChange:function(e){return M(e)},fullWidth:!0,error:!(!f||!f.drop),helperText:f&&f.drop})]}),(0,i.jsxs)(_.ZP,{item:!0,xs:12,sm:6,children:[(0,i.jsx)(h.Z,{sx:{color:"#fff"},children:"Date Of Jorney"}),(0,i.jsx)(b.Z,{type:"date",name:"date_of_jorney",id:"date",value:null===r||void 0===r?void 0:r.date_of_jorney,onChange:function(e){return M(e)},fullWidth:!0,error:!(!f||!f.date_of_jorney),helperText:f&&f.date_of_jorney})]}),(0,i.jsxs)(_.ZP,{item:!0,xs:12,sm:6,children:[(0,i.jsx)(h.Z,{sx:{color:"#fff"},children:"Pickup Time"}),(0,i.jsx)(b.Z,{type:"time",name:"pickup_time",id:"pickup_time",value:null===r||void 0===r?void 0:r.pickup_time,onChange:function(e){return M(e)},fullWidth:!0,error:!(!f||!f.pickup_time),helperText:f&&f.pickup_time})]}),(0,i.jsxs)(_.ZP,{item:!0,xs:12,sm:6,children:[(0,i.jsx)(h.Z,{sx:{color:"#fff"},children:"Prefer Car"}),(0,i.jsx)(b.Z,{type:"text",name:"prefer_car",id:"car-varient",autoComplete:"car-varient",value:null===r||void 0===r?void 0:r.prefer_car,onChange:function(e){return M(e)},fullWidth:!0,error:!(!f||!f.prefer_car),helperText:f&&f.prefer_car})]}),(0,i.jsxs)(_.ZP,{item:!0,xs:12,sm:6,children:[(0,i.jsx)(h.Z,{sx:{color:"#fff"},children:"Cost Of Jorney"}),(0,i.jsx)(b.Z,{type:"text",name:"cost_of_jorney",id:"trip-price",autoComplete:"trip-price",value:null===r||void 0===r?void 0:r.cost_of_jorney,onChange:function(e){return M(e)},fullWidth:!0,error:!(!f||!f.cost_of_jorney),helperText:f&&f.cost_of_jorney})]}),(0,i.jsxs)(_.ZP,{item:!0,xs:12,sm:6,children:[(0,i.jsx)(h.Z,{sx:{color:"#fff"},children:"Commission of vendor"}),(0,i.jsx)(b.Z,{type:"text",name:"commission_of_vendor",id:"ask",autoComplete:"ask",value:null===r||void 0===r?void 0:r.commission_of_vendor,onChange:function(e){return M(e)},fullWidth:!0,error:!(!f||!f.commission_of_vendor),helperText:f&&f.commission_of_vendor})]}),(0,i.jsxs)(_.ZP,{item:!0,xs:12,sm:6,children:[(0,i.jsx)(h.Z,{sx:{color:"#fff"},children:"Passenger Name"}),(0,i.jsx)(b.Z,{type:"text",name:"customer_name",id:"passenger-name",value:null===r||void 0===r?void 0:r.customer_name,onChange:function(e){return M(e)},autoComplete:"passenger-name",fullWidth:!0,error:!(!f||!f.customer_name),helperText:f&&f.customer_name})]}),(0,i.jsxs)(_.ZP,{item:!0,xs:12,sm:6,children:[(0,i.jsx)(h.Z,{sx:{color:"#fff"},children:"Contact Number"}),(0,i.jsx)(b.Z,{type:"text",name:"customer_mobile_number",id:"contact-number",value:null===r||void 0===r?void 0:r.customer_mobile_number,onChange:function(e){return M(e)},autoComplete:"contact-number",fullWidth:!0,error:!(!f||!f.customer_mobile_number),helperText:f&&f.customer_mobile_number})]}),(0,i.jsx)(_.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-between"},children:T?(0,i.jsx)(x.Z,{sx:{display:"flex",justifyContent:"center"},children:(0,i.jsx)(j.Z,{size:25})}):(0,i.jsx)("button",{className:"inline-flex justify-center py-2 px-8 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-[#fec601] hover:bg-[#FFCC33] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:D,children:"Submit"})})]})})})})})})}),(0,i.jsx)(d.Z,{notify:E,setNotify:S})]})}))}},function(e){e.O(0,[441,522,853,674,568,984,494,417,774,888,179],(function(){return r=4855,e(e.s=r);var r}));var r=e.O();_N_E=r}]);