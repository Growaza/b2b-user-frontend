(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[471],{9213:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/MyProfile",function(){return n(3545)}])},6691:function(e,r,n){"use strict";var t=n(5893),a=(n(7294),n(3950)),o=n(7161);function i(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}r.Z=function(e){var r=e.notify,n=e.setNotify,s=function(e,t){"clickaway"!==t&&n(function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){i(e,r,n[r])}))}return e}({},r,{isOpen:!1}))};return(0,t.jsx)(a.Z,{open:r.isOpen,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:s,children:(0,t.jsx)(o.Z,{severity:r.type,variant:"filled",onClose:s,children:r.message})})}},3738:function(e,r,n){"use strict";n.d(r,{i:function(){return l}});var t=n(5893),a=n(7294),o=n(1163);function i(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function s(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){i(e,r,n[r])}))}return e}var l=function(e){return function(r){var n=(0,o.useRouter)();return(0,a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));if(null==(null===e||void 0===e?void 0:e.token))return console.log(e,"token"),n.push("/login");console.log("")}),[]),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(e,s({},r))})}}},4545:function(e,r){"use strict";var n=/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/,t=/^\d{10}$/,a={validatePostBookingForm:function(e){var r={},n=e.pick_up,a=e.drop,o=e.date_of_jorney,i=e.pickup_time,s=e.prefer_car,l=e.cost_of_jorney,c=e.commission_of_vendor,u=e.customer_name,d=e.customer_mobile_number;e.is_driver_request_form;return n||(r.pick_up="Please enter pickup location"),a||(r.drop="Please enter drop location"),o||(r.date_of_jorney="Please enter date of jorney"),i||(r.pickup_time="Please select pickup time"),s||(r.prefer_car="Please Enter prefer_car"),l||(r.cost_of_jorney="Please Enter cost of jorney"),c||(r.commission_of_vendor="Please Enter commission of vendor"),u||(r.customer_name="Please Enter customer name"),d||(r.customer_mobile_number="Please Enter customer mobile number"),d&&!t.test(d.trim().toString())&&(r.customer_mobile_number="Please Enter valid customer mobile number"),r},validateContactUsForm:function(e){var r={},a=e.name,o=e.email,i=e.phone_number,s=e.msg;return a||(r.name="Please enter name"),o||(r.email="Please enter email"),o&&!n.test(o.trim().toString())&&(r.email="Please enter valid email"),i||(r.phone_number="Please enter phone number"),i&&!t.test(i.trim().toString())&&(r.phone_number="Please Enter valid phone number"),s||(r.msg="Please enter message"),r},validateFeedbackForm:function(e){var r={},a=e.name,o=e.email,i=e.phone_number,s=e.feedback;return a||(r.name="Please enter name"),o||(r.email="Please enter email"),o&&!n.test(o.trim().toString())&&(r.email="Please enter valid email"),i||(r.phone_number="Please enter phone number"),i&&!t.test(i.trim().toString())&&(r.phone_number="Please Enter valid phone number"),s||(r.feedback="Please enter message"),r},validatePostTestimonialsForm:function(e){var r={},n=e.name,t=e.testimonials;return n||(r.name="Please enter name"),t||(r.testimonials="Please enter testimonials"),r},validateMyProfileForm:function(e){var r={},a=e.first_name,o=e.last_name,i=e.email,s=e.password,l=e.phone_number,c=e.razorpay_account_id,u=e.state,d=e.city,m=e.dob;return a||(r.first_name="Please enter first_name"),o||(r.last_name="Please enter last_name"),i||(r.email="Please enter email"),i&&!n.test(i.trim().toString())&&(r.email="Please enter valid email"),s||(r.password="Please select password"),l||(r.phone_number="Please Enter phone_number"),l&&!t.test(l.trim().toString())&&(r.phone_number="Please Enter valid phone number"),c||(r.razorpay_account_id="Please Enter razorpay_account_id"),u||(r.state="Please Enter state"),d||(r.city="Please Enter city"),m||(r.dob="Please Enter date of birth"),r},validateDriverForm:function(e){var r={},a=e.driver_name,o=e.driver_email,i=e.driver_mobile_number,s=e.driver_licence_number,l=e.driver_vehicle_number;return a||(r.driver_name="Please enter driver name"),o||(r.driver_email="Please enter driver email"),o&&!n.test(o.trim().toString())&&(r.driver_email="Please enter valid email"),i||(r.driver_mobile_number="Please enter driver mobile number"),i&&!t.test(i.trim().toString())&&(r.driver_mobile_number="Please Enter valid driver mobile number"),s||(r.driver_licence_number="Please enter driver licence number"),l||(r.driver_vehicle_number="Please enter driver vehicle number"),r}};r.Z=a},3545:function(e,r,n){"use strict";n.r(r);var t=n(4051),a=n.n(t),o=n(5893),i=n(7294),s=n(811),l=n(6513),c=n(2052),u=n(7650),d=n(7594),m=n(3738),f=n(6691),p=n(463),v=n(1953),h=n(8316),x=n(2853),b=n(754),_=n(4545);function g(e,r,n,t,a,o,i){try{var s=e[o](i),l=s.value}catch(c){return void n(c)}s.done?r(l):Promise.resolve(l).then(t,a)}function y(e){return function(){var r=this,n=arguments;return new Promise((function(t,a){var o=e.apply(r,n);function i(e){g(o,t,a,i,s,"next",e)}function s(e){g(o,t,a,i,s,"throw",e)}i(void 0)}))}}function j(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function P(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){j(e,r,n[r])}))}return e}r.default=(0,m.i)((function(){var e=(0,i.useState)({id:0,first_name:"",last_name:"",email:"",password:"",phone_number:"",razorpay_account_id:"",state:"",city:"",dob:""}),r=e[0],n=e[1],t=(0,i.useState)({isOpen:!1,message:"",type:""}),m=t[0],g=t[1],w=(0,i.useState)(),N=w[0],O=w[1];(0,i.useEffect)((function(){E()}),[]);var E=function(){var e=y(a().mark((function e(){var t,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("user")),e.next=3,p.Z.get("/api/v1/accounts/vendors/".concat(t.user_id,"/"));case 3:o=e.sent,console.log("updateData",o),n(P({},r,o.data));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=(0,i.useState)({}),k=Z[0],S=Z[1];console.log("data",r);var C=function(){var e=y(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t=_.Z.validateMyProfileForm(r),console.log("allError",t),0!==Object.entries(t).length||t.constructor!==Object){e.next=17;break}return O(!0),e.prev=5,e.next=8,p.Z.put("/api/v1/accounts/vendors/".concat(null===r||void 0===r?void 0:r.id,"/"),r);case 8:e.sent,g({isOpen:!0,message:"Profile Data updated successfully",type:"success"}),O(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),g({isOpen:!0,message:"something went wrong, please try again",type:"success"}),O(!1);case 17:S(t);case 18:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(r){return e.apply(this,arguments)}}(),z=(0,l._)(),R=(0,u.YD)({root:null,rootMargin:"0px",threshold:.2}),T=R.ref,F=R.inView,D=function(e){console.log(r,"data");var t=e.target,a=t.name,o=t.value;n(P({},r,j({},a,o)))};return(0,i.useEffect)((function(){F&&z.start("show")}),[z,F]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.Z,{}),(0,o.jsxs)(c.E.section,{ref:T,animate:z,initial:"hidden",id:"postBooking",className:"min-h-screen bg-stone-800",children:[(0,o.jsx)("div",{className:"hidden sm:block","aria-hidden":"true",children:(0,o.jsx)("div",{className:"py-5",children:(0,o.jsx)("div",{className:"border-t border-gray-200"})})}),(0,o.jsx)(v.Z,{sx:{pt:{md:10,sm:8,xs:14},px:{xs:4}},children:(0,o.jsxs)("div",{className:"md:grid md:grid-rows-non md:gap-6 md:justify-center",children:[(0,o.jsx)(c.E.div,{ref:T,initial:"hidden",variants:(0,s.iR)(.5),animate:z,onChange:function(e){return console.log("Inview:",e)},className:"md:col-span-3 md:text-center",children:(0,o.jsx)("div",{className:"p-3 bg-[#fec601] rounded-3xl sm:px-0",children:(0,o.jsx)("h3",{className:"text-2xl font-semibold ml-1 leading-6 text-gray-900",children:"Profile Update"})})}),(0,o.jsx)(c.E.div,{ref:T,initial:"hidden",variants:(0,s.e5)(.5),animate:z,onChange:function(e){return console.log("Inview:",e)},className:"mt-5 md:mt-0 md:col-span-3",style:{paddingBottom:"20px"},children:(0,o.jsx)("form",{children:(0,o.jsxs)("div",{className:"shadow overflow-hidden rounded-sm",children:[(0,o.jsx)("div",{className:"md:w-[600px] px-4 py-5 bg-[#1261A0] sm:p-6",children:(0,o.jsxs)("div",{className:"grid grid-cols-6 gap-6",children:[(0,o.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,o.jsx)(h.Z,{sx:{color:"#fff"},children:"First Name"}),(0,o.jsx)(x.Z,{sx:{borderRadius:"6px",color:"#fff"},type:"text",name:"first_name",id:"first_name",autoComplete:"given-name",value:null===r||void 0===r?void 0:r.first_name,onChange:function(e){return D(e)},fullWidth:!0,error:!(!k||!k.first_name),helperText:k&&k.first_name})]}),(0,o.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,o.jsx)(h.Z,{sx:{color:"#fff"},children:"Last Name"}),(0,o.jsx)(x.Z,{sx:{borderRadius:"6px",color:"#fff"},type:"text",name:"last_name",id:"last_name",autoComplete:"given-name",value:null===r||void 0===r?void 0:r.last_name,onChange:function(e){return D(e)},fullWidth:!0,error:!(!k||!k.last_name),helperText:k&&k.last_name})]}),(0,o.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,o.jsx)(h.Z,{sx:{color:"#fff"},children:"Email"}),(0,o.jsx)(x.Z,{sx:{borderRadius:"6px",color:"#fff"},type:"text",name:"email",id:"email",value:null===r||void 0===r?void 0:r.email,onChange:function(e){return D(e)},fullWidth:!0,error:!(!k||!k.email),helperText:k&&k.email})]}),(0,o.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,o.jsx)(h.Z,{sx:{color:"#fff"},children:"Password"}),(0,o.jsx)(x.Z,{sx:{borderRadius:"6px",color:"#fff"},type:"password",name:"password",id:"password",autoComplete:"car-varient",value:null===r||void 0===r?void 0:r.password,onChange:function(e){return D(e)},fullWidth:!0,error:!(!k||!k.password),helperText:k&&k.password})]}),(0,o.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,o.jsx)(h.Z,{sx:{color:"#fff"},children:"Phone Number"}),(0,o.jsx)(x.Z,{sx:{borderRadius:"6px",color:"#fff"},type:"text",name:"phone_number",id:"phone_number",autoComplete:"phone_number",value:null===r||void 0===r?void 0:r.phone_number,onChange:function(e){return D(e)},fullWidth:!0,error:!(!k||!k.phone_number),helperText:k&&k.phone_number})]}),(0,o.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,o.jsx)(h.Z,{sx:{color:"#fff"},children:"Razorpay Account Id"}),(0,o.jsx)(x.Z,{sx:{borderRadius:"6px",color:"#fff"},type:"text",name:"razorpay_account_id",id:"razorpay_account_id",autoComplete:"ask",value:null===r||void 0===r?void 0:r.razorpay_account_id,fullWidth:!0,error:!(!k||!k.razorpay_account_id),helperText:k&&k.razorpay_account_id})]}),(0,o.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,o.jsx)(h.Z,{sx:{color:"#fff"},children:"State"}),(0,o.jsx)(x.Z,{sx:{borderRadius:"6px",color:"#fff"},type:"text",name:"state",id:"state",value:null===r||void 0===r?void 0:r.state,onChange:function(e){return D(e)},fullWidth:!0,error:!(!k||!k.state),helperText:k&&k.state})]}),(0,o.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,o.jsx)(h.Z,{sx:{color:"#fff"},children:"City"}),(0,o.jsx)(x.Z,{sx:{borderRadius:"6px",color:"#fff"},type:"text",name:"city",id:"city",value:null===r||void 0===r?void 0:r.city,onChange:function(e){return D(e)},fullWidth:!0,error:!(!k||!k.city),helperText:k&&k.city})]}),(0,o.jsxs)("div",{className:"col-span-6 sm:col-span-3",children:[(0,o.jsx)(h.Z,{sx:{color:"#fff"},children:"Date Of Birthday"}),(0,o.jsx)(x.Z,{sx:{borderRadius:"6px",color:"#fff"},type:"date",name:"dob",id:"dob",value:null===r||void 0===r?void 0:r.dob,onChange:function(e){return D(e)},fullWidth:!0,error:!(!k||!k.dob),helperText:k&&k.dob})]})]})}),(0,o.jsx)("div",{className:"px-4 py-3 bg-[#1261A0] text-center sm:px-6",children:N?(0,o.jsx)(v.Z,{sx:{display:"flex",justifyContent:"center"},children:(0,o.jsx)(b.Z,{size:25})}):(0,o.jsx)("button",{className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-[#fec601] hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:C,children:"Submit"})})]})})})]})}),(0,o.jsx)("div",{className:"hidden sm:block","aria-hidden":"true",children:(0,o.jsx)("div",{className:"py-5",children:(0,o.jsx)("div",{className:"border-t border-gray-200"})})})]}),(0,o.jsx)(f.Z,{notify:m,setNotify:g})]})}))}},function(e){e.O(0,[441,522,853,674,568,984,417,774,888,179],(function(){return r=9213,e(e.s=r);var r}));var r=e.O();_N_E=r}]);