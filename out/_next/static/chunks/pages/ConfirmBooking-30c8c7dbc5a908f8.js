(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[229],{888:function(n,e,i){"use strict";var t=i(4836);e.Z=void 0;var r=t(i(4938)),o=i(5893),s=(0,r.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");e.Z=s},9202:function(n,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ConfirmBooking",function(){return i(28)}])},28:function(n,e,i){"use strict";i.r(e);var t=i(4051),r=i.n(t),o=i(5893),s=i(7294),l=i(6513),a=i(2052),c=i(7650),d=i(811),u=i(7594),x=i(3738),f=i(6691),p=i(463),m=i(381),v=i.n(m),h=i(4731),g=i(9655),j=i(3508),b=i(3481),y=i(1719),Z=i(6697),k=i(2991),w=i(3334),C=i(1953),_=i(9072),P=i(9837),O=i(9742),S=i(1359),E=i(1448),N=i(9630),I=i(2026),B=i(9144),F=i(562),D=i(888),z=i(2857),M=i(3769);function A(n,e){(null==e||e>n.length)&&(e=n.length);for(var i=0,t=new Array(e);i<e;i++)t[i]=n[i];return t}function W(n,e,i,t,r,o,s){try{var l=n[o](s),a=l.value}catch(c){return void i(c)}l.done?e(a):Promise.resolve(a).then(t,r)}function T(n){return function(){var e=this,i=arguments;return new Promise((function(t,r){var o=n.apply(e,i);function s(n){W(o,t,r,s,l,"next",n)}function l(n){W(o,t,r,s,l,"throw",n)}s(void 0)}))}}function Y(n,e,i){return e in n?Object.defineProperty(n,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[e]=i,n}function R(n,e){if(null==n)return{};var i,t,r=function(n,e){if(null==n)return{};var i,t,r={},o=Object.keys(n);for(t=0;t<o.length;t++)i=o[t],e.indexOf(i)>=0||(r[i]=n[i]);return r}(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(t=0;t<o.length;t++)i=o[t],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(n,i)&&(r[i]=n[i])}return r}function L(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var i=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=i){var t,r,o=[],s=!0,l=!1;try{for(i=i.call(n);!(s=(t=i.next()).done)&&(o.push(t.value),!e||o.length!==e);s=!0);}catch(a){l=!0,r=a}finally{try{s||null==i.return||i.return()}finally{if(l)throw r}}return o}}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return A(n,e);var i=Object.prototype.toString.call(n).slice(8,-1);"Object"===i&&n.constructor&&(i=n.constructor.name);if("Map"===i||"Set"===i)return Array.from(i);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return A(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var V=(0,y.ZP)(C.Z)((function(n){var e=n.theme;return Y({},e.breakpoints.up("sm"),{borderRight:"1px solid ".concat(e.palette.divider),pr:12})})),X=(0,y.ZP)((function(n){n.expand;var e=R(n,["expand"]);return(0,o.jsx)(F.Z,function(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},t=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(i).filter((function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})))),t.forEach((function(e){Y(n,e,i[e])}))}return n}({},e))}))((function(n){var e=n.theme;return{transform:n.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})}}));e.default=(0,x.i)((function(){var n=L(s.useState(-1),2),e=n[0],i=n[1],t=(0,s.useState)([]),x=t[0],m=t[1],y=(0,s.useState)({isOpen:!1,message:"",type:""}),F=y[0],A=y[1],W=function(){var n=T(r().mark((function n(){var e;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,p.Z.get("/api/v1/booking/confirmbooking?is_booking_cansel=False");case 2:e=n.sent,console.log(null===e||void 0===e?void 0:e.data,"data"),m(null===e||void 0===e?void 0:e.data);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();s.useEffect((function(){W()}),[]);var Y=function(){var n=T(r().mark((function n(e,i){var t,o;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,p.Z.put("api/v1/booking/pickup-action/".concat(e,"/"),{is_pickup:!Boolean(i)});case 3:o=n.sent,console.log(o.data,"NS"),(null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.is_pickup)?(A({isOpen:!0,message:"Pickup is completed successfully",type:"success"}),W()):A({isOpen:!0,message:"Something went wring please try again",type:"error"});case 6:case"end":return n.stop()}}),n)})));return function(e,i){return n.apply(this,arguments)}}(),R=function(){var n=T(r().mark((function n(e){var i,t;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),n.next=4,p.Z.post("api/v1/booking/cancel-booking/",{confirm_booking_id:e});case 4:t=n.sent,console.log(t.data,"NS"),(null===t||void 0===t||null===(i=t.data)||void 0===i?void 0:i.msg)?(A({isOpen:!0,message:"Booking cancelled",type:"success"}),W()):A({isOpen:!0,message:"Something went wring please try again",type:"error"});case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),U=(0,l._)(),$=(0,c.YD)({root:null,rootMargin:"0px",threshold:.2}),q=$.ref,G=$.inView;return(0,s.useEffect)((function(){G&&U.start("show")}),[U,G]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.Z,{}),(0,o.jsxs)(a.E.div,{ref:q,animate:U,initial:"hidden",id:"takeBooking",style:{paddingBottom:"20px"},className:"min-h-screen flex flex-col items-center justify-center bg-stone-800",children:[(0,o.jsx)(a.E.div,{ref:q,initial:"hidden",variants:(0,d.pB)(.5),animate:U,onChange:function(n){return console.log("Inview:",n)},className:"w-62 bg-[#fec601] p-2 rounded-2xl mt-40",children:(0,o.jsx)("h2",{className:"text-3xl text-center text-white font-medium underline",children:"Confirm Booking"})}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)(a.E.div,{ref:q,initial:"hidden",variants:(0,d.iR)(.8),animate:U,onChange:function(n){return console.log("Inview:",n)},className:"grid justify-items-center md:grid-cols-3 gap-6",children:null===x||void 0===x?void 0:x.map((function(n,t){var r,s,l,a,c,d,u,x,f,p;return(0,o.jsx)(_.ZP,{item:!0,xs:12,sm:6,md:4,sx:{mb:2,width:"100%"},children:(0,o.jsxs)(P.Z,{sx:{minWidth:{md:400},mt:3},children:[(0,o.jsx)(_.ZP,{container:!0,spacing:6,children:(0,o.jsxs)(_.ZP,{item:!0,xs:12,sm:12,children:[(0,o.jsx)(O.Z,{sx:{backgroundColor:"#FEC601"},avatar:(0,o.jsx)(h.Z,{sx:{bgcolor:g.Z[500]},"aria-label":"recipe",children:"R"}),title:"Booking No - "+(null===(r=null===n||void 0===n?void 0:n.postbooking[0])||void 0===r?void 0:r.id),subheader:"Posted At:"+v()(n.created_at).format("DD MMM YYYY")}),(0,o.jsxs)(S.Z,{sx:{backgroundColor:"#FEC601"},children:[(0,o.jsxs)(_.ZP,{container:!0,sx:{display:"flex",flexDirection:"row",justifyContent:"center",mb:1},children:[(0,o.jsx)(_.ZP,{item:!0,md:5,display:"flex",justifyContent:"center",children:(0,o.jsx)(E.Z,{icon:(0,o.jsx)(M.Z,{fontSize:"small",sx:{color:"#fff !important"}}),label:null===(s=null===n||void 0===n?void 0:n.postbooking[0])||void 0===s?void 0:s.pick_up,sx:{backgroundColor:"primary.main",color:"#fff"}})}),(0,o.jsx)(_.ZP,{item:!0,md:2,display:"flex",justifyContent:"center",sx:{mt:"4px"},children:(0,o.jsx)(z.Z,{})}),(0,o.jsx)(_.ZP,{item:!0,md:5,display:"flex",justifyContent:"center",children:(0,o.jsx)(E.Z,{icon:(0,o.jsx)(M.Z,{fontSize:"small",sx:{color:"#fff !important"}}),label:null===(l=null===n||void 0===n?void 0:n.postbooking[0])||void 0===l?void 0:l.drop,sx:{backgroundColor:"primary.main",color:"#fff"}})})]}),(0,o.jsxs)(_.ZP,{container:!0,spacing:4,children:[(0,o.jsx)(_.ZP,{item:!0,xs:12,sm:6,children:(0,o.jsxs)(V,{children:[(0,o.jsxs)(C.Z,{sx:{py:1.25,display:"flex",alignItems:"center"},children:[(0,o.jsx)(Z.Z,{sx:{color:"primary.main",mr:2.5},fontSize:"small"}),(0,o.jsx)(N.Z,{variant:"body2",children:null===(a=null===n||void 0===n?void 0:n.postbooking[0])||void 0===a?void 0:a.prefer_car})]}),(0,o.jsxs)(C.Z,{sx:{py:1,display:"flex",alignItems:"center"},children:[(0,o.jsx)(k.Z,{sx:{color:"primary.main",mr:2.5},fontSize:"small"}),(0,o.jsx)(N.Z,{variant:"body2",children:null===(c=null===n||void 0===n?void 0:n.postbooking[0])||void 0===c?void 0:c.date_of_jorney})]})]})}),(0,o.jsxs)(_.ZP,{item:!0,xs:12,sm:6,children:[(0,o.jsxs)(C.Z,{sx:{py:1.25,display:"flex",alignItems:"center"},children:[(0,o.jsx)(w.Z,{sx:{color:"primary.main",mr:2.5},fontSize:"small"}),(0,o.jsxs)(N.Z,{variant:"body2",children:[null===(d=null===n||void 0===n?void 0:n.postbooking[0])||void 0===d?void 0:d.cost_of_jorney," Rs."]})]}),(0,o.jsxs)(C.Z,{sx:{py:1.25,display:"flex",alignItems:"center"},children:[(0,o.jsx)(k.Z,{sx:{color:"primary.main",mr:2.5},fontSize:"small"}),(0,o.jsx)(N.Z,{variant:"body2",children:null===(u=null===n||void 0===n?void 0:n.postbooking[0])||void 0===u?void 0:u.pickup_time})]})]})]})]})]})}),(0,o.jsx)(I.Z,{disableSpacing:!0,sx:{backgroundColor:"#FEC601"},children:(0,o.jsxs)(C.Z,{sx:{display:"flex",flexDirection:"row",alignItems:"center",cursor:"pointer"},onClick:function(){var n;i(e===(n=t)?-1:n)},children:[(0,o.jsx)(X,{expand:e==t,"aria-expanded":e,"aria-label":"show more",children:(0,o.jsx)(j.Z,{})}),(0,o.jsx)(N.Z,{variant:"body2",children:"View More Details"})]})}),(0,o.jsx)(b.Z,{in:e==t,timeout:"auto",unmountOnExit:!0,children:(0,o.jsxs)(S.Z,{sx:{backgroundColor:"#FEC601"},children:[(0,o.jsxs)(C.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,o.jsx)(N.Z,{sx:{mb:1.5,fontWeight:600},children:"Car Number:"}),(0,o.jsx)(N.Z,{sx:{mb:1.5},children:null===(x=null===n||void 0===n?void 0:n.postbooking[0])||void 0===x?void 0:x.prefer_car})]}),(0,o.jsxs)(C.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,o.jsx)(N.Z,{sx:{mb:1.5,fontWeight:600},children:"Passenger Name:"}),(0,o.jsx)(N.Z,{sx:{mb:1.5},children:null===(f=null===n||void 0===n?void 0:n.postbooking[0])||void 0===f?void 0:f.customer_name})]}),(0,o.jsxs)(C.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,o.jsx)(N.Z,{sx:{mb:1.5,fontWeight:600},children:"Passenger Mobile:"}),(0,o.jsx)(N.Z,{sx:{mb:1.5},children:null===(p=null===n||void 0===n?void 0:n.postbooking[0])||void 0===p?void 0:p.customer_mobile_number})]})]})}),(0,o.jsx)(I.Z,{sx:{backgroundColor:"#FEC601"},children:(0,o.jsxs)(C.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},children:[(0,o.jsx)(D.Z,{sx:{color:"green",mr:1}}),(0,o.jsx)(N.Z,{variant:"h6",sx:{fontWeight:"700"},children:"Booking Confirmed"})]})}),(0,o.jsx)(I.Z,{sx:{backgroundColor:"#FEC601",display:"flex",pl:3},children:(0,o.jsx)(B.Z,{sx:{mt:2,display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},direction:"row",children:(0,o.jsxs)(_.ZP,{container:!0,spacing:2,children:[(0,o.jsx)(_.ZP,{item:!0,md:6,children:(0,o.jsx)("button",{className:"border rounded-lg p-1 w-42 bg-[#F44336] text-black shadow-md hover:shadow-xl active:scale-90 transition duration-150 nav__links",onClick:function(){return R(null===n||void 0===n?void 0:n.id)},children:"Cancel Booking"})}),(0,o.jsx)(_.ZP,{item:!0,md:6,display:"flex",children:(null===n||void 0===n?void 0:n.is_pickup)?(0,o.jsxs)(C.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},children:[(0,o.jsx)(D.Z,{sx:{color:"green",mr:1}}),(0,o.jsx)(N.Z,{variant:"body1",sx:{fontWeight:"700"},children:"Trip Done"})]}):(0,o.jsx)("button",{className:"border rounded-lg p-1 w-32 bg-[#F44336] text-black shadow-md hover:shadow-xl active:scale-90 transition duration-150 nav__links",onClick:function(){return Y(null===n||void 0===n?void 0:n.id)},children:"Trip Done"})})]})})})]})},t)}))})]}),(0,o.jsx)(f.Z,{notify:F,setNotify:A})]})}))}},function(n){n.O(0,[885,441,522,853,674,568,984,218,417,175,774,888,179],(function(){return e=9202,n(n.s=e);var e}));var e=n.O();_N_E=e}]);