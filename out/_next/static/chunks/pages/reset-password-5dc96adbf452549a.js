(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6],{9144:function(e,n,t){"use strict";var r=t(3366),o=t(7462),i=t(7294),s=t(5408),a=t(8700),c=t(9707),l=t(9766),u=t(1719),d=t(8884),p=t(5893);const f=["component","direction","spacing","divider","children"];function h(e,n){const t=i.Children.toArray(e).filter(Boolean);return t.reduce(((e,r,o)=>(e.push(r),o<t.length-1&&e.push(i.cloneElement(n,{key:`separator-${o}`})),e)),[])}const v=(0,u.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,n)=>[n.root]})((({ownerState:e,theme:n})=>{let t=(0,o.Z)({display:"flex",flexDirection:"column"},(0,s.k9)({theme:n},(0,s.P$)({values:e.direction,breakpoints:n.breakpoints.values}),(e=>({flexDirection:e}))));if(e.spacing){const r=(0,a.hB)(n),o=Object.keys(n.breakpoints.values).reduce(((n,t)=>(("object"===typeof e.spacing&&null!=e.spacing[t]||"object"===typeof e.direction&&null!=e.direction[t])&&(n[t]=!0),n)),{}),i=(0,s.P$)({values:e.direction,base:o}),c=(0,s.P$)({values:e.spacing,base:o});"object"===typeof i&&Object.keys(i).forEach(((e,n,t)=>{if(!i[e]){const r=n>0?i[t[n-1]]:"column";i[e]=r}}));const u=(n,t)=>{return{"& > :not(style) + :not(style)":{margin:0,[`margin${o=t?i[t]:e.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o]}`]:(0,a.NA)(r,n)}};var o};t=(0,l.Z)(t,(0,s.k9)({theme:n},c,u))}return t=(0,s.dt)(n.breakpoints,t),t})),m=i.forwardRef((function(e,n){const t=(0,d.Z)({props:e,name:"MuiStack"}),i=(0,c.Z)(t),{component:s="div",direction:a="column",spacing:l=0,divider:u,children:m}=i,g=(0,r.Z)(i,f),w={direction:a,spacing:l};return(0,p.jsx)(v,(0,o.Z)({as:s,ownerState:w,ref:n},g,{children:u?h(m,u):m}))}));n.Z=m},948:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reset-password",function(){return t(3700)}])},463:function(e,n,t){"use strict";var r=t(9669),o=t.n(r);var i=function(){try{return JSON.parse(localStorage.getItem("user"))}catch(e){return console.log("You are not LogIn"),null}}(),s=o().create({baseURL:"http://localhost:8000/",headers:{Authorization:"Token ".concat(null===i||void 0===i?void 0:i.token),"content-type":"application/json"}});s.interceptors.request.use((function(e){try{var n=JSON.parse(localStorage.getItem("user"));return e.headers.Authorization="Token ".concat(null===n||void 0===n?void 0:n.token),e}catch(t){return console.log("You are not Log In"),Promise.reject(null)}}),(function(e){return Promise.reject(e)}),(function(e){try{var n=JSON.parse(localStorage.getItem("user"));return e.headers.Authorization="Token ".concat(null===n||void 0===n?void 0:n.token),e}catch(t){return console.log("You are not LogIn"),Promise.reject(null)}}),(function(e){return Promise.reject(e)})),n.Z=s},715:function(e,n,t){"use strict";var r=t(5893),o=t(1719),i=t(1953),s=t(9008),a=(0,o.ZP)(i.Z)((function(e){return{height:"100vh","& .content-center":{display:"flex",minHeight:"100vh",alignItems:"center",justifyContent:"center",padding:e.theme.spacing(5)},"& .content-right":{display:"flex",minHeight:"100vh",overflowX:"hidden",position:"absolute",width:"100%"}}}));n.Z=function(e){var n=e.children;return(0,r.jsxs)(a,{className:"layout-wrapper",children:[(0,r.jsxs)(s.default,{children:[(0,r.jsx)("title",{children:"B2B Cabs"}),(0,r.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,r.jsx)("link",{rel:"icon",href:"/main.png"})]}),(0,r.jsx)(i.Z,{className:"app-content",sx:{minHeight:"100vh",overflowX:"hidden",position:"relative",backgroundColor:"#292524"},children:n})]})}},1236:function(e,n,t){"use strict";var r=t(5893),o=t(7294),i=t(1225),s=t(1719),a=t(2097);var c=(0,s.ZP)("img")((function(e){var n,t,r,o=e.theme;return n={bottom:"7%",width:"100%",position:"absolute"},t=o.breakpoints.down("lg"),r={bottom:"17.5%"},t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}));n.Z=function(e){var n=e.image,t=(0,a.Z)(),s=n||"/auth-v2-login-mask-dark.png";return(0,i.Z)(t.breakpoints.down("md"))?null:(0,r.jsx)(o.Fragment,{children:(0,r.jsx)(c,{alt:"mask",src:s})})}},6691:function(e,n,t){"use strict";var r=t(5893),o=(t(7294),t(3950)),i=t(7161);function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}n.Z=function(e){var n=e.notify,t=e.setNotify,a=function(e,r){"clickaway"!==r&&t(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){s(e,n,t[n])}))}return e}({},n,{isOpen:!1}))};return(0,r.jsx)(o.Z,{open:n.isOpen,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:a,children:(0,r.jsx)(i.Z,{severity:n.type,variant:"filled",onClose:a,children:n.message})})}},811:function(e,n,t){"use strict";t.d(n,{pB:function(){return r},e5:function(){return o},L7:function(){return i},iR:function(){return s}});var r=function(e){return{hidden:{opacity:0,y:30},show:{opacity:1,y:0,transition:{delay:e,duration:.4,ease:"easeInOut"}}}},o=function(e){return{hidden:{opacity:0,y:-30},show:{opacity:1,y:0,transition:{delay:e,duration:.4}}}},i=function(e){return{hidden:{opacity:0,x:-30},show:{opacity:1,x:0,transition:{delay:e,duration:.4}}}},s=function(e){return{hidden:{opacity:0,x:30},show:{opacity:1,x:0,transition:{delay:e,duration:.4}}}}},3700:function(e,n,t){"use strict";t.r(n);var r=t(4051),o=t.n(r),i=t(5893),s=t(7294),a=t(6513),c=t(2052),l=t(7650),u=t(811),d=(t(1664),t(8316)),p=t(562),f=t(1953),h=t(5343),v=t(1225),m=t(4246),g=t(1719),w=t(2097),x=t(9041),y=t(9630),b=t(5898),j=t(8855),Z=t(715),k=t(1236),P=t(1163),O=t(6691),S=t(463),C=t(9144),N=t(754);function _(e,n,t,r,o,i,s){try{var a=e[i](s),c=a.value}catch(l){return void t(l)}a.done?n(c):Promise.resolve(c).then(r,o)}function E(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function s(e){_(i,r,o,s,a,"next",e)}function a(e){_(i,r,o,s,a,"throw",e)}s(void 0)}))}}function I(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function D(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){I(e,n,t[n])}))}return e}var B=(0,g.ZP)(f.Z)((function(e){var n,t=e.theme;return I(n={width:"100%"},t.breakpoints.up("md"),{maxWidth:400}),I(n,t.breakpoints.up("lg"),{maxWidth:450}),n})),R=(0,g.ZP)(f.Z)((function(e){return I({width:"100%"},e.theme.breakpoints.down("md"),{maxWidth:400})})),T=(0,g.ZP)(y.Z)((function(e){var n=e.theme;return I({fontWeight:600,letterSpacing:"0.18px",marginBottom:n.spacing(1.5)},n.breakpoints.down("md"),{marginTop:n.spacing(8)})}));n.default=function(){var e=(0,a._)(),n=(0,P.useRouter)(),t=(0,s.useState)({password:"",cPassword:"",showPassword:"",cShowPassword:"",useridb64:"",token:""}),r=t[0],g=t[1],_=(0,s.useState)(!1),A=_[0],L=_[1],W=(0,l.YD)({root:null,rootMargin:"0px",threshold:.2}),z=W.ref,H=W.inView,$=n.query,M=$.useridb64,X=$.token;(0,s.useEffect)((function(){console.log("useridb64",M,X),M&&X&&(g(D({},r,{useridb64:M,token:X})),Y(M,X))}),[M,X]),(0,s.useEffect)((function(){H&&e.start("show")}),[e,H]);var Y=function(){var e=E(o().mark((function e(){var n,t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,S.Z.get("/api/v1/accounts/forgot-password-token-verify?useridb64=".concat(M,"&token=").concat(X));case 3:t=e.sent,console.log(t.data.is_token_valid,"NS"),(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.is_token_valid)?(Q(""),L(!1)):(U({isOpen:!0,message:"Token has been expired",type:"error"}),L(!1),Q(null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r.response));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=(0,w.Z)(),J=(0,v.Z)(F.breakpoints.down("md")),q=function(e){return function(n){g(D({},r,I({},e,n.target.value)))}},V=(0,s.useState)({isOpen:!1,message:"",type:""}),G=V[0],U=V[1],K=(0,s.useState)(),Q=(K[0],K[1]),ee=function(){var e=E(o().mark((function e(n){var t,i,s,a,c,l,u,d,p;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),L(!0),r.password&&r.cPassword){e.next=6;break}return U({isOpen:!0,message:"please fill the all the values",type:"error"}),L(!1),e.abrupt("return",!0);case 6:if(r.password===r.cPassword){e.next=10;break}return U({isOpen:!0,message:"Password and confirm password should be same",type:"error"}),L(!1),e.abrupt("return",!0);case 10:return e.prev=10,e.next=14,S.Z.post("/api/v1/accounts/forgot-password-confirm/",{password1:r.password,password2:r.cPassword,useridb64:M,token:X});case 14:i=e.sent,console.log(i.data.valid,"NS"),(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.error)?(U({isOpen:!0,message:null===i||void 0===i||null===(a=i.data)||void 0===a?void 0:a.message,type:"error"}),L(!1),Q(null===i||void 0===i||null===(c=i.data)||void 0===c?void 0:c.message)):(Q(""),U({isOpen:!0,message:null===i||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message,type:"success"}),L(!1)),e.next=25;break;case 19:e.prev=19,e.t0=e.catch(10),U({isOpen:!0,message:null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l||null===(u=l.data)||void 0===u?void 0:u.message,type:"error"}),L(!1),Q(null===e.t0||void 0===e.t0||null===(d=e.t0.response)||void 0===d||null===(p=d.data)||void 0===p?void 0:p.message);case 25:case"end":return e.stop()}}),e,null,[[10,19]])})));return function(n){return e.apply(this,arguments)}}();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Z.Z,{children:(0,i.jsx)(c.E.div,{ref:z,animate:e,initial:"hidden",children:(0,i.jsxs)(f.Z,{className:"content-right",children:[J?null:(0,i.jsxs)(f.Z,{sx:{flex:1,display:"flex",position:"relative",alignItems:"center",justifyContent:"center"},children:[(0,i.jsx)(f.Z,{sx:{width:"100%",display:"flex",justifyContent:"flex-end"},children:(0,i.jsx)(c.E.div,{ref:z,initial:"hidden",variants:(0,u.iR)(2),animate:e,onChange:function(e){return console.log("Inview:",e)},className:"w-60 md:w-96 md:h-60",children:(0,i.jsx)("img",{src:"contact-img.png",alt:"car photo"})})}),(0,i.jsx)(k.Z,{})]}),(0,i.jsx)(B,{sx:{borderLeft:"1px solid rgba(76, 78, 100, 0.12)"},children:(0,i.jsx)(f.Z,{sx:{p:7,height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"background.paper"},children:(0,i.jsxs)(R,{children:[(0,i.jsxs)(f.Z,{sx:{top:30,left:40,display:"flex",position:"absolute",alignItems:"center",justifyContent:"center"},children:[(0,i.jsx)("image",{className:"image",src:"/main.png",alt:"logo",width:60,height:60}),(0,i.jsx)(y.Z,{variant:"h6",sx:{ml:2,lineHeight:1,fontWeight:700,fontSize:"1.5rem !important",color:"#e33825"},children:"B2b Cabs"})]}),(0,i.jsxs)(f.Z,{sx:{mb:6},children:[(0,i.jsx)(T,{variant:"h5",children:"Forgotten your password!\ud83d\udc4b\ud83c\udffb"}),(0,i.jsx)(y.Z,{variant:"body2",children:"Please enter your email here and we will send you a link to reset it."})]}),(0,i.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:ee,children:(0,i.jsxs)(C.Z,{direction:"column",spacing:2,children:[(0,i.jsxs)(f.Z,{children:[(0,i.jsx)(d.Z,{children:"Password"}),(0,i.jsx)(h.Z,{fullWidth:!0,children:(0,i.jsx)(m.Z,{value:r.password,id:"auth-login-v2-password",onChange:q("password"),type:r.showPassword?"text":"password",endAdornment:(0,i.jsx)(x.Z,{position:"end",children:(0,i.jsx)(p.Z,{edge:"end",onClick:function(){g(D({},r,{showPassword:!r.showPassword}))},onMouseDown:function(e){e.preventDefault()},"aria-label":"toggle password visibility",children:r.showPassword?(0,i.jsx)(b.Z,{}):(0,i.jsx)(j.Z,{})})})})})]}),(0,i.jsxs)(f.Z,{children:[(0,i.jsx)(d.Z,{children:"Confirm Password"}),(0,i.jsx)(h.Z,{fullWidth:!0,children:(0,i.jsx)(m.Z,{value:r.cPassword,id:"auth-login-v2-password",onChange:q("cPassword"),type:r.cShowPassword?"text":"password",endAdornment:(0,i.jsx)(x.Z,{position:"end",children:(0,i.jsx)(p.Z,{edge:"end",onClick:function(){g(D({},r,{cShowPassword:!r.cShowPassword}))},"aria-label":"toggle password visibility",children:r.cShowPassword?(0,i.jsx)(b.Z,{}):(0,i.jsx)(j.Z,{})})})})})]}),A?(0,i.jsx)(f.Z,{sx:{display:"flex",justifyContent:"center",mb:2},children:(0,i.jsx)(N.Z,{size:25})}):(0,i.jsx)("button",{type:"submit",className:"py-2 px-36 mx-1 mb-4 text-sm font-medium rounded-md text-white bg-[#fec601] hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:ee,children:"Submit"})]})})]})})})]})})}),(0,i.jsx)(O.Z,{notify:G,setNotify:U})]})}}},function(e){e.O(0,[441,522,568,415,774,888,179],(function(){return n=948,e(e.s=n);var n}));var n=e.O();_N_E=n}]);